{% extends 'hms/base.html' %}
{% block content %}

<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="card shadow-lg border-0">
        <div class="card-header bg-gradient bg-primary text-white py-4">
          <h3 class="mb-0"><i class="fas fa-car"></i> Vehicle Information Form</h3>
          <p class="mb-0 opacity-75">Help us provide better service for your vehicle</p>
        </div>
        <div class="card-body p-4">
          <form method="POST">
            <div class="row g-4">
              <!-- Vehicle Details -->
              <div class="col-md-4">
                <label class="form-label fw-bold">Make / Brand</label>
                <input type="text" name="make" class="form-control" 
                       value="{{ history.make if history else '' }}" 
                       placeholder="e.g. Toyota, Honda, Maruti">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">Model</label>
                <input type="text" name="model" class="form-control" 
                       value="{{ history.model if history else '' }}" 
                       placeholder="e.g. Corolla, Civic, Swift">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">Year</label>
                <input type="number" name="year" class="form-control" 
                       value="{{ history.year if history else '' }}" 
                       placeholder="e.g. 2022" min="1990" max="2030">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">VIN Number</label>
                <input type="text" name="vin" class="form-control" 
                       value="{{ history.vin if history else '' }}" 
                       placeholder="Vehicle Identification Number">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">License Plate</label>
                <input type="text" name="license_plate" class="form-control" 
                       value="{{ history.license_plate if history else '' }}" 
                       placeholder="e.g. UK07AB1234">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">Current Mileage (km)</label>
                <input type="number" name="mileage" class="form-control" 
                       value="{{ history.mileage if history else '' }}" 
                       placeholder="e.g. 45000">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">Fuel Type</label>
                <select name="fuel_type" class="form-select">
                  <option value="">Select Fuel Type</option>
                  <option value="Petrol" {% if history and history.fuel_type == 'Petrol' %}selected{% endif %}>Petrol</option>
                  <option value="Diesel" {% if history and history.fuel_type == 'Diesel' %}selected{% endif %}>Diesel</option>
                  <option value="CNG" {% if history and history.fuel_type == 'CNG' %}selected{% endif %}>CNG</option>
                  <option value="Electric" {% if history and history.fuel_type == 'Electric' %}selected{% endif %}>Electric</option>
                  <option value="Hybrid" {% if history and history.fuel_type == 'Hybrid' %}selected{% endif %}>Hybrid</option>
                </select>
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">Transmission</label>
                <select name="transmission" class="form-select">
                  <option value="">Select Transmission</option>
                  <option value="Manual" {% if history and history.transmission == 'Manual' %}selected{% endif %}>Manual</option>
                  <option value="Automatic" {% if history and history.transmission == 'Automatic' %}selected{% endif %}>Automatic</option>
                  <option value="CVT" {% if history and history.transmission == 'CVT' %}selected{% endif %}>CVT</option>
                  <option value="AMT" {% if history and history.transmission == 'AMT' %}selected{% endif %}>AMT</option>
                </select>
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">Engine Size</label>
                <input type="text" name="engine_size" class="form-control" 
                       value="{{ history.engine_size if history else '' }}" 
                       placeholder="e.g. 1.5L, 2.0L">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">Color</label>
                <input type="text" name="color" class="form-control" 
                       value="{{ history.color if history else '' }}" 
                       placeholder="e.g. White, Silver, Black">
              </div>

              <!-- Insurance Details -->
              <div class="col-md-4">
                <label class="form-label fw-bold">Insurance Company</label>
                <input type="text" name="insurance_company" class="form-control" 
                       value="{{ history.insurance_company if history else '' }}" 
                       placeholder="Insurance company name">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-bold">Insurance Policy Number</label>
                <input type="text" name="insurance_policy" class="form-control" 
                       value="{{ history.insurance_policy if history else '' }}" 
                       placeholder="Policy number">
              </div>
            </div>

            <div class="mt-4 d-flex justify-content-between">
              <a href="{{ url_for('customer_vehicle_records') }}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Back
              </a>
              <button type="submit" class="btn btn-primary btn-lg">
                <i class="fas fa-save"></i> Save Vehicle Info
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
